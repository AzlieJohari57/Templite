<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Resume {{ name }}</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    * { box-sizing: border-box; }
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      {% if achievement or extracurricular_activities %}
      font-size: 10px;
      {% else %}
      font-size: 11px;
      {% endif %}
      background-color: #f8f9fa;
      line-height: 1.2;
    }
    @media print {
      html, body {
        width: 210mm;
        height: 297mm;
        background: white;
        {% if achievement or extracurricular_activities %}
        font-size: 9px;
        {% else %}
        font-size: 10px;
        {% endif %}
        margin: 0;
        padding: 0;
      }
      .container { 
        page-break-inside: avoid;
        {% if not achievement and not extracurricular_activities %}
        height: 297mm;
        overflow: hidden;
        {% endif %}
      }
      .second-page {
        page-break-before: always;
        height: 297mm;
      }
      .left-section img {
        {% if achievement or extracurricular_activities %}
        width: 80px;
        height: 80px;
        {% else %}
        width: 100px;
        height: 100px;
        {% endif %}
      }
    }
    .container {
      display: flex;
      background-color: white;
      width: 100%;
      {% if not achievement and not extracurricular_activities %}
      max-height: 297mm;
      {% endif %}
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      overflow: hidden;
    }
    .left-section {
      flex: 1;
      background: linear-gradient(135deg, #d4a574 0%, #c49464 100%);
      color: #2d2d2d;
      {% if achievement or extracurricular_activities %}
      padding: 10px 8px;
      {% else %}
      padding: 15px 12px;
      {% endif %}
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }
    .left-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255, 255, 255, 0.05);
      pointer-events: none;
    }
    .left-section img {
      {% if achievement or extracurricular_activities %}
      width: 90px;
      height: 90px;
      margin: 3px 0 10px 0;
      border: 2px solid rgba(255, 255, 255, 0.9);
      {% else %}
      width: 110px;
      height: 110px;
      margin: 5px 0 15px 0;
      border: 3px solid rgba(255, 255, 255, 0.9);
      {% endif %}
      border-radius: 50%;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 1;
    }
    .section-title {
      font-weight: 600;
      {% if achievement or extracurricular_activities %}
      margin: 10px 0 6px;
      font-size: 10px;
      padding-bottom: 2px;
      {% else %}
      margin: 15px 0 8px;
      font-size: 11px;
      padding-bottom: 3px;
      {% endif %}
      border-bottom: 2px solid rgba(255, 255, 255, 0.7);
      width: 100%;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #2d2d2d;
      position: relative;
      z-index: 1;
    }
    .right-section {
      flex: 2;
      {% if achievement or extracurricular_activities %}
      padding: 15px 20px;
      {% else %}
      padding: 20px 25px;
      {% endif %}
      background-color: #ffffff;
    }
    .right-section h1 {
      {% if achievement or extracurricular_activities %}
      font-size: 20px;
      margin: 0 0 3px 0;
      {% else %}
      font-size: 22px;
      margin: 0 0 5px 0;
      {% endif %}
      color: #2d2d2d;
      font-weight: 700;
      letter-spacing: -0.5px;
    }
    .right-section h2 {
      color: #d4a574;
      {% if achievement or extracurricular_activities %}
      font-size: 12px;
      margin: 12px 0 4px;
      {% else %}
      font-size: 14px;
      margin: 15px 0 5px;
      {% endif %}
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .job-title {
      color: #666;
      {% if achievement or extracurricular_activities %}
      font-size: 11px;
      margin-bottom: 12px;
      {% else %}
      font-size: 13px;
      margin-bottom: 15px;
      {% endif %}
      font-weight: 400;
      font-style: italic;
    }
    .job-entry, .education-entry, .reference-entry {
      {% if achievement or extracurricular_activities %}
      margin-bottom: 8px;
      padding: 6px 0;
      padding-left: 10px;
      margin-left: -10px;
      padding-left: 12px;
      {% else %}
      margin-bottom: 10px;
      padding: 8px 0;
      padding-left: 12px;
      margin-left: -12px;
      padding-left: 15px;
      {% endif %}
      border-left: 3px solid #d4a574;
      background: rgba(212, 165, 116, 0.03);
      border-radius: 0 6px 6px 0;
    }
    .progress-container {
      width: 100%;
      {% if achievement or extracurricular_activities %}
      margin-bottom: 4px;
      {% else %}
      margin-bottom: 6px;
      {% endif %}
      position: relative;
      z-index: 1;
    }
    .progress-label {
      {% if achievement or extracurricular_activities %}
      font-size: 9px;
      margin-bottom: 2px;
      {% else %}
      font-size: 10px;
      margin-bottom: 3px;
      {% endif %}
      font-weight: 500;
      color: #2d2d2d;
    }
    .progress-bar {
      width: 100%;
      background-color: rgba(255, 255, 255, 0.4);
      border-radius: 8px;
      overflow: hidden;
      {% if achievement or extracurricular_activities %}
      height: 6px;
      {% else %}
      height: 8px;
      {% endif %}
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.7) 100%);
      border-radius: 8px;
      transition: width 0.3s ease;
    }
    ul {
      list-style-type: none;
      padding-left: 0;
      {% if achievement or extracurricular_activities %}
      margin: 3px 0;
      {% else %}
      margin: 5px 0;
      {% endif %}
      line-height: 1.4;
    }
    .right-section ul {
      list-style-type: disc;
      {% if achievement or extracurricular_activities %}
      padding-left: 15px;
      margin-left: 6px;
      {% else %}
      padding-left: 18px;
      margin-left: 8px;
      {% endif %}
    }
    .right-section ul li {
      {% if achievement or extracurricular_activities %}
      margin-bottom: 3px;
      font-size: 9px;
      {% else %}
      margin-bottom: 4px;
      font-size: 10px;
      {% endif %}
      color: #555;
    }
    .left-section ul li {
      {% if achievement or extracurricular_activities %}
      margin: 3px 0;
      font-size: 9px;
      {% else %}
      margin: 4px 0;
      font-size: 10px;
      {% endif %}
      display: flex;
      align-items: center;
      color: #2d2d2d;
      position: relative;
      z-index: 1;
    }
    .left-section ul li i {
      {% if achievement or extracurricular_activities %}
      margin-right: 6px;
      width: 12px;
      {% else %}
      margin-right: 8px;
      width: 14px;
      {% endif %}
      color: #2d2d2d;
      opacity: 0.8;
    }
    p, li {
      line-height: 1.4;
    }
    hr {
      border: none;
      height: 2px;
      background: linear-gradient(90deg, #d4a574 0%, rgba(212, 165, 116, 0.3) 100%);
      {% if achievement or extracurricular_activities %}
      margin: 3px 0 8px 0;
      {% else %}
      margin: 5px 0 10px 0;
      {% endif %}
      border-radius: 2px;
    }
    .right-section strong {
      color: #2d2d2d;
      font-weight: 600;
    }
    .left-section h2 {
      color: #2d2d2d;
      {% if achievement or extracurricular_activities %}
      font-size: 10px;
      margin: 8px 0 6px;
      {% else %}
      font-size: 12px;
      margin: 10px 0 8px;
      {% endif %}
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      position: relative;
      z-index: 1;
    }
    .about-section p {
      {% if achievement or extracurricular_activities %}
      font-size: 9px;
      margin: 3px 0;
      {% else %}
      font-size: 10px;
      margin: 5px 0;
      {% endif %}
    }
    .second-page {
      background-color: white;
      padding: 30px;
      width: 100%;
      min-height: 297mm;
    }
    .second-content {
      max-width: 800px;
      margin: 0 auto;
    }
    .second-page .section-title {
      color: #d4a574;
      font-size: 16px;
      margin: 20px 0 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-bottom: none;
    }
    .second-page ul {
      list-style-type: disc;
      padding-left: 20px;
      margin: 10px 0;
    }
    .second-page ul li {
      margin-bottom: 8px;
      font-size: 12px;
      color: #555;
      line-height: 1.5;
    }
    .second-page .reference-entry {
      margin-bottom: 15px;
      padding: 12px;
      border-left: 3px solid #d4a574;
      background: rgba(212, 165, 116, 0.03);
      border-radius: 0 6px 6px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="left-section">
      <img src="{{ image or './images/female_profile_pic.png' }}" alt="{{ name }}" style="margin: 10px 0; padding: 0;">

      <h2 style="margin-top: 10px; margin-bottom: 8px;">Personal Information</h2>
      <ul style="list-style: none; padding-left: 0; margin: 10px 0;">
        <li style="margin: 4px 0;"><i class="fa fa-user" style="margin-right: 8px;"></i><strong>Name:</strong> {{ name }}</li>
        <li style="margin: 4px 0;"><i class="fa fa-location-dot" style="margin-right: 8px;"></i><strong>Address:</strong> {{ address }}</li>
        <li style="margin: 4px 0;"><i class="fa fa-envelope" style="margin-right: 8px;"></i><strong>Email:</strong> {{ email }}</li>
        <li style="margin: 4px 0;"><i class="fa fa-phone" style="margin-right: 8px;"></i><strong>Phone:</strong> {{ telephone }}</li>
        {% if linkedin %}
        <li style="margin: 4px 0;"><i class="fa fa-linkedin" style="margin-right: 8px;"></i><strong>LinkedIn:</strong> {{ linkedin }}</li>
        {% endif %}
      </ul>

      <div class="section-title">Technical Skills</div>
      {% for skill, level in skills.technical_skills.items() %}
      <div class="progress-container">
        <div class="progress-label">{{ skill }}</div>
        <div class="progress-bar"><div class="progress-fill" style="width: {{ level }}%"></div></div>
      </div>
      {% endfor %}

      <div class="section-title">Soft Skills</div>
      {% for trait, score in skills.soft_skills.items() %}
      <div class="progress-container">
        <div class="progress-label">{{ trait }}</div>
        <div class="progress-bar"><div class="progress-fill" style="width: {{ score }}%"></div></div>
      </div>
      {% endfor %}

      {% if certification %}
      <div class="section-title" style="margin-top: 20px;">Certifications</div>
      <ul style="margin: 8px 0 0 0; padding-left: 20px;">
        {% for cert in certification %}
        <li style="margin-bottom: 4px;">{{ cert.title }}{% if cert.issuer %} - {{ cert.issuer }}{% endif %}, {{ cert.date }}</li>
        {% endfor %}
      </ul>
      {% endif %}

      {% if language %}
      <div class="section-title" style="margin-top: 20px;">Languages</div>
      <ul style="margin: 8px 0 0 0; padding-left: 20px;">
        {% for lang in language %}
          {% for k, v in lang.items() %}
          <li><strong>{{ k }}:</strong> {{ v|capitalize }}</li>
          {% endfor %}
        {% endfor %}
      </ul>
      {% endif %}
    </div>

    <div class="right-section">
      <h1><strong>{{ name }}</strong></h1>
      <h2 class="job-title">{{ title }}</h2>

      <h2>About Me</h2>
      <hr/>
      <div class="about-section">
        <p>{{ about }}</p>
      </div>

      {% if experience %}
      <h2>Experience</h2>
      <hr/>
      {% for job in experience %}
      <div class="job-entry">
        <strong>{{ job.company }}</strong> - {{ job.title }}<br>
        {{ job.location }} | {{ job.duration }}
        <ul>
          {% set detail_limit = 3 if experience|length == 3 else (4 if experience|length == 2 else 8) %}
          {% for bullet in job.details[:detail_limit] %}
          <li>{{ bullet }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endfor %}
      {% else %}
      <h2>Core Strengths</h2>
      <hr/>
      <ul>
        {% for s in strength[:8] %}
        <li>{{ s }}</li>
        {% endfor %}
      </ul>
      {% endif %}

      <h2>Education</h2>
      <hr/>
      {% for edu in education %}
      <div class="education-entry">
        <strong>{{ edu.level }}</strong><br>
        {{ edu.institution }} {% if edu.duration %}| {{ edu.duration }}{% endif %}
        {% if edu.details %}<ul><li>{{ edu.details }}</li></ul>{% endif %}
      </div>
      {% endfor %}

      {% if not achievement and not extracurricular_activities %}
      <h2>References</h2>
      <hr/>
      {% for ref in reference %}
      <div class="reference-entry">
        <strong>{{ ref.name }}</strong><br>
        {{ ref.position }}, {{ ref.company }}<br>
        {% if ref.email %}Email: {{ ref.email }}<br>{% endif %}
        {% if ref.telephone %}Phone: {{ ref.telephone }}{% endif %}
      </div>
      {% endfor %}
      {% endif %}
    </div>
  </div>

  {% if achievement or extracurricular_activities %}
  <div class="second-page">
    <div class="second-content">
      {% if achievement %}
      <div class="section-title">Achievements</div>
      <hr>
      <ul style="padding-left: 20px;">
        {% for item in achievement %}
        <li>{{ item }}</li>
        {% endfor %}
      </ul>
      {% endif %}

      {% if extracurricular_activities %}
      <div class="section-title">Extracurricular Activities</div>
      <hr>
      <ul style="padding-left: 20px;">
        {% for activity in extracurricular_activities %}
        <li><strong>{{ activity.title }}</strong> ({{ activity.date }}){% if activity.details %} - {{ activity.details }}{% endif %}</li>
        {% endfor %}
      </ul>
      {% endif %}

      <div class="section-title">References</div>
      <hr/>
      {% for ref in reference %}
      <div class="reference-entry">
        <strong>{{ ref.name }}</strong><br>
        {{ ref.position }}, {{ ref.company }}<br>
        {% if ref.email %}Email: {{ ref.email }}<br>{% endif %}
        {% if ref.telephone %}Phone: {{ ref.telephone }}{% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
  {% endif %}
</body>
</html>